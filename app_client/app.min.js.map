{"version":3,"sources":["app.min.js"],"names":["config","$routeProvider","$locationProvider","when","templateUrl","controller","controllerAs","otherwise","redirectTo","html5Mode","run","$rootScope","$location","authentication","$on","event","nextRoute","currentRoute","path","isLoggedIn","angular","module","homeCtrl","console","log","profileCtrl","$inject","loginCtrl","vm","this","credentials","email","password","onSubmit","login","error","err","alert","then","registerCtrl","name","register","$http","$window","saveToken","token","localStorage","getToken","payload","split","atob","JSON","parse","exp","Date","now","currentUser","user","post","success","data","logout","removeItem","service","navigationCtrl","navigation","restrict","directive"],"mappings":"CAAA,WAIE,QAASA,GAAQC,EAAgBC,GAC/BD,EACGE,KAAK,KACJC,YAAa,sBACbC,WAAY,WACZC,aAAc,OAEfH,KAAK,aACJC,YAAa,oCACbC,WAAY,eACZC,aAAc,OAEfH,KAAK,UACJC,YAAa,8BACbC,WAAY,YACZC,aAAc,OAEfH,KAAK,YACJC,YAAa,6BACbC,WAAY,cACZC,aAAc,OAEfC,WAAWC,WAAY,MAG1BN,EAAkBO,WAAU,GAG9B,QAASC,GAAIC,EAAYC,EAAWC,GAClCF,EAAWG,IAAI,oBAAqB,SAASC,EAAOC,EAAWC,GACpC,aAArBL,EAAUM,QAA0BL,EAAeM,cACrDP,EAAUM,KAAK,OAjCrBE,QAAQC,OAAO,WAAY,YAsC3BD,QACGC,OAAO,WACPrB,QAAQ,iBAAkB,oBAAqBA,IAC/CU,KAAK,aAAc,YAAa,iBAAkBA,OAGvD,WAMI,QAASY,KACPC,QAAQC,IAAI,8BALhBJ,QACGC,OAAO,WACPhB,WAAW,WAAYiB,MAO5B,WAOE,QAASG,GAAYb,IALrBQ,QACGC,OAAO,WACPhB,WAAW,cAAeoB,GAE7BA,EAAYC,SAAW,gBAMzB,WAOE,QAASC,GAAUf,EAAWC,GAC5B,GAAIe,GAAKC,IAETD,GAAGE,aACDC,MAAQ,GACRC,SAAW,IAGbJ,EAAGK,SAAW,WACZpB,EACGqB,MAAMN,EAAGE,aACTK,MAAM,SAASC,GACdC,MAAMD,KAEPE,KAAK,WACJ1B,EAAUM,KAAK,cApBvBE,QACCC,OAAO,WACPhB,WAAW,YAAasB,GAEzBA,EAAUD,SAAW,YAAa,qBAuBpC,WAOE,QAASa,GAAa3B,EAAWC,GAC/B,GAAIe,GAAKC,IAETD,GAAGE,aACDU,KAAO,QACPT,MAAQ,GACRC,SAAW,IAGbJ,EAAGK,SAAW,WACZV,QAAQC,IAAI,2BACZX,EACG4B,SAASb,EAAGE,aACZK,MAAM,SAASC,GACdC,MAAMD,KAEPE,KAAK,WACJ1B,EAAUM,KAAK,cAtBvBE,QACGC,OAAO,WACPhB,WAAW,eAAgBkC,GAE9BA,EAAab,SAAW,YAAa,qBAyBvC,WAOE,QAASb,GAAgB6B,EAAOC,GAE9B,GAAIC,GAAY,SAAUC,GACxBF,EAAQG,aAAa,cAAgBD,GAGnCE,EAAW,WACb,MAAOJ,GAAQG,aAAa,eAG1B3B,EAAa,WACf,GACI6B,GADAH,EAAQE,GAGZ,OAAGF,IACDG,EAAUH,EAAMI,MAAM,KAAK,GAC3BD,EAAUL,EAAQO,KAAKF,GACvBA,EAAUG,KAAKC,MAAMJ,GAEdA,EAAQK,IAAMC,KAAKC,MAAQ,MAE3B,GAIPC,EAAc,WAChB,GAAGrC,IAAa,CACd,GAAI0B,GAAQE,IACRC,EAAUH,EAAMI,MAAM,KAAK,EAG/B,OAFAD,GAAUL,EAAQO,KAAKF,GACvBA,EAAUG,KAAKC,MAAMJ,IAEnBjB,MAAQiB,EAAQjB,MAChBS,KAAOQ,EAAQR,OAqBrB,OAhBAC,UAAW,SAASgB,GAClB,MAAOf,GAAMgB,KAAK,gBAAiBD,GAAME,QAAQ,SAASC,GACxDhB,EAAUgB,EAAKf,UAInBX,MAAQ,SAASuB,GACf,MAAOf,GAAMgB,KAAK,aAAcD,GAAME,QAAQ,SAASC,GACrDhB,EAAUgB,EAAKf,UAInBgB,OAAS,WACPlB,EAAQG,aAAagB,WAAW,gBAIhCN,YAAcA,EACdZ,UAAYA,EACZG,SAAWA,EACX5B,WAAaA,EACbsB,SAAWA,SACXP,MAAQA,MACR2B,OAASA,QAlEbzC,QACGC,OAAO,WACP0C,QAAQ,iBAAkBlD,GAE7BA,EAAea,SAAW,QAAS,cAoErC,WAOE,QAASsC,GAAepD,EAAWC,GACjC,GAAIe,GAAKC,IAETD,GAAGT,WAAaN,EAAeM,aAE/BS,EAAG4B,YAAc3C,EAAe2C,cAVlCpC,QACGC,OAAO,WACPhB,WAAW,iBAAkB2D,GAEhCA,EAAetC,SAAW,YAAY,qBAWxC,WAME,QAASuC,KACP,OACEC,SAAU,KACV9D,YAAa,yDACbC,WAAY,2BARhBe,QACGC,OAAO,WACP8C,UAAU,aAAcF","file":"app.min.js","sourcesContent":["!function(){function n(n,t){n.when(\"/\",{templateUrl:\"home/home.view.html\",controller:\"homeCtrl\",controllerAs:\"vm\"}).when(\"/register\",{templateUrl:\"/auth/register/register.view.html\",controller:\"registerCtrl\",controllerAs:\"vm\"}).when(\"/login\",{templateUrl:\"/auth/login/login.view.html\",controller:\"loginCtrl\",controllerAs:\"vm\"}).when(\"/profile\",{templateUrl:\"/profile/profile.view.html\",controller:\"profileCtrl\",controllerAs:\"vm\"}).otherwise({redirectTo:\"/\"}),t.html5Mode(!0)}function t(n,t,e){n.$on(\"$routeChangeStart\",function(n,o,r){\"/profile\"!==t.path()||e.isLoggedIn()||t.path(\"/\")})}angular.module(\"meanApp\",[\"ngRoute\"]),angular.module(\"meanApp\").config([\"$routeProvider\",\"$locationProvider\",n]).run([\"$rootScope\",\"$location\",\"authentication\",t])}(),function(){function n(){console.log(\"Home controller is running\")}angular.module(\"meanApp\").controller(\"homeCtrl\",n)}(),function(){function n(n){}angular.module(\"meanApp\").controller(\"profileCtrl\",n),n.$inject=[\"$location\"]}(),function(){function n(n,t){var e=this;e.credentials={email:\"\",password:\"\"},e.onSubmit=function(){t.login(e.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"meanApp\").controller(\"loginCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(n,t){var e=this;e.credentials={name:\"Simon\",email:\"\",password:\"\"},e.onSubmit=function(){console.log(\"Submitting registration\"),t.register(e.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"meanApp\").controller(\"registerCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(n,t){var e=function(n){t.localStorage[\"mean-token\"]=n},o=function(){return t.localStorage[\"mean-token\"]},r=function(){var n,e=o();return e?(n=e.split(\".\")[1],n=t.atob(n),n=JSON.parse(n),n.exp>Date.now()/1e3):!1},i=function(){if(r()){var n=o(),e=n.split(\".\")[1];return e=t.atob(e),e=JSON.parse(e),{email:e.email,name:e.name}}};return register=function(t){return n.post(\"/api/register\",t).success(function(n){e(n.token)})},login=function(t){return n.post(\"/api/login\",t).success(function(n){e(n.token)})},logout=function(){t.localStorage.removeItem(\"mean-token\")},{currentUser:i,saveToken:e,getToken:o,isLoggedIn:r,register:register,login:login,logout:logout}}angular.module(\"meanApp\").service(\"authentication\",n),n.$inject=[\"$http\",\"$window\"]}(),function(){function n(n,t){var e=this;e.isLoggedIn=t.isLoggedIn(),e.currentUser=t.currentUser()}angular.module(\"meanApp\").controller(\"navigationCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(){return{restrict:\"EA\",templateUrl:\"/common/directives/navigation/navigation.template.html\",controller:\"navigationCtrl as navvm\"}}angular.module(\"meanApp\").directive(\"navigation\",n)}();"],"sourceRoot":"/source/"}