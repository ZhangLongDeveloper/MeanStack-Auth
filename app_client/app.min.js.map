{"version":3,"sources":["app.min.js"],"names":["config","$routeProvider","$locationProvider","when","templateUrl","controller","controllerAs","access","requiredLogin","otherwise","redirectTo","html5Mode","run","$rootScope","$location","authentication","$on","event","nextRoute","currentRoute","restrictedPage","path","loggedIn","isLoggedIn","angular","module","homeCtrl","console","log","profileCtrl","$inject","loginCtrl","vm","this","credentials","email","password","onSubmit","login","error","err","alert","then","registerCtrl","name","register","$http","$window","saveToken","token","localStorage","getToken","payload","split","atob","JSON","parse","exp","Date","now","currentUser","user","post","success","data","logout","removeItem","service","navigationCtrl","navigation","restrict","directive"],"mappings":"CAAA,WAOE,QAASA,GAAQC,EAAgBC,GAC/BD,EACGE,KAAK,KACJC,YAAa,sBACbC,WAAY,WACZC,aAAc,KACdC,QACEC,eAAe,KAGlBL,KAAK,aACJC,YAAa,oCACbC,WAAY,eACZC,aAAc,KACdC,QACEC,eAAe,KAGlBL,KAAK,UACJC,YAAa,8BACbC,WAAY,YACZC,aAAc,KACdC,QACEC,eAAe,KAGlBL,KAAK,YACJC,YAAa,6BACbC,WAAY,cACZC,aAAc,KACdC,QACEC,eAAe,KAGlBC,WAAWC,WAAY,MAG1BR,EAAkBS,WAAU,GAI9B,QAASC,GAAIC,EAAYC,EAAWC,GAClCF,EAAWG,IAAI,oBAAqB,SAASC,EAAOC,EAAWC,GAC7D,GAAIC,GAAsC,aAArBN,EAAUO,OAC3BC,EAAWP,EAAeQ,YAC1BH,KAAmBE,GACrBR,EAAUO,KAAK,OAnDrBG,QAAQC,OAAO,WAAY,YAwD3BD,QACGC,OAAO,WACPzB,QAAQ,iBAAkB,oBAAqBA,IAC/CY,KAAK,aAAc,YAAa,iBAAkBA,OAIvD,WAMI,QAASc,KACPC,QAAQC,IAAI,8BALhBJ,QACGC,OAAO,WACPpB,WAAW,WAAYqB,MAO5B,WAOE,QAASG,GAAYf,IALrBU,QACGC,OAAO,WACPpB,WAAW,cAAewB,GAE7BA,EAAYC,SAAW,gBAMzB,WAOE,QAASC,GAAUjB,EAAWC,GAC5B,GAAIiB,GAAKC,IAETD,GAAGE,aACDC,MAAQ,GACRC,SAAW,IAGbJ,EAAGK,SAAW,WACZV,QAAQC,IAAI,qBAAsBI,EAAGE,aACrCnB,EACGuB,MAAMN,EAAGE,aACTK,MAAM,SAASC,GACdC,MAAMD,KAEPE,KAAK,WACJ5B,EAAUO,KAAK,cArBvBG,QACCC,OAAO,WACPpB,WAAW,YAAa0B,GAEzBA,EAAUD,SAAW,YAAa,qBAwBpC,WAOE,QAASa,GAAa7B,EAAWC,GAC/B,GAAIiB,GAAKC,IAETD,GAAGE,aACDU,KAAO,QACPT,MAAQ,GACRC,SAAW,IAGbJ,EAAGK,SAAW,WACZV,QAAQC,IAAI,2BACZb,EACG8B,SAASb,EAAGE,aACZK,MAAM,SAASC,GACdC,MAAMD,KAEPE,KAAK,WACJ5B,EAAUO,KAAK,cAtBvBG,QACGC,OAAO,WACPpB,WAAW,eAAgBsC,GAE9BA,EAAab,SAAW,YAAa,qBAyBvC,WAOE,QAASf,GAAgB+B,EAAOC,GAE9B,GAAIC,GAAY,SAAUC,GACxBF,EAAQG,aAAa,cAAgBD,GAGnCE,EAAW,WACb,MAAOJ,GAAQG,aAAa,eAG1B3B,EAAa,WACf,GACI6B,GADAH,EAAQE,GAGZ,OAAGF,IACDG,EAAUH,EAAMI,MAAM,KAAK,GAC3BD,EAAUL,EAAQO,KAAKF,GACvBA,EAAUG,KAAKC,MAAMJ,GAEdA,EAAQK,IAAMC,KAAKC,MAAQ,MAE3B,GAIPC,EAAc,WAChB,GAAGrC,IAAa,CACd,GAAI0B,GAAQE,IACRC,EAAUH,EAAMI,MAAM,KAAK,EAG/B,OAFAD,GAAUL,EAAQO,KAAKF,GACvBA,EAAUG,KAAKC,MAAMJ,IAEnBjB,MAAQiB,EAAQjB,MAChBS,KAAOQ,EAAQR,OAqBrB,OAhBAC,UAAW,SAASgB,GAClB,MAAOf,GAAMgB,KAAK,gBAAiBD,GAAME,QAAQ,SAASC,GACxDhB,EAAUgB,EAAKf,UAInBX,MAAQ,SAASuB,GACf,MAAOf,GAAMgB,KAAK,aAAcD,GAAME,QAAQ,SAASC,GACrDhB,EAAUgB,EAAKf,UAInBgB,OAAS,WACPlB,EAAQG,aAAagB,WAAW,gBAIhCN,YAAcA,EACdZ,UAAYA,EACZG,SAAWA,EACX5B,WAAaA,EACbsB,SAAWA,SACXP,MAAQA,MACR2B,OAASA,QAlEbzC,QACGC,OAAO,WACP0C,QAAQ,iBAAkBpD,GAE7BA,EAAee,SAAW,QAAS,cAoErC,WAOE,QAASsC,GAAetD,EAAWC,GACjC,GAAIiB,GAAKC,IAETD,GAAGT,WAAaR,EAAeQ,aAE/BS,EAAG4B,YAAc7C,EAAe6C,cAVlCpC,QACGC,OAAO,WACPpB,WAAW,iBAAkB+D,GAEhCA,EAAetC,SAAW,YAAY,qBAWxC,WAME,QAASuC,KACP,OACEC,SAAU,KACVlE,YAAa,yDACbC,WAAY,2BARhBmB,QACGC,OAAO,WACP8C,UAAU,aAAcF","file":"app.min.js","sourcesContent":["!function(){function n(n,e){n.when(\"/\",{templateUrl:\"home/home.view.html\",controller:\"homeCtrl\",controllerAs:\"vm\",access:{requiredLogin:!1}}).when(\"/register\",{templateUrl:\"/auth/register/register.view.html\",controller:\"registerCtrl\",controllerAs:\"vm\",access:{requiredLogin:!1}}).when(\"/login\",{templateUrl:\"/auth/login/login.view.html\",controller:\"loginCtrl\",controllerAs:\"vm\",access:{requiredLogin:!1}}).when(\"/profile\",{templateUrl:\"/profile/profile.view.html\",controller:\"profileCtrl\",controllerAs:\"vm\",access:{requiredLogin:!1}}).otherwise({redirectTo:\"/\"}),e.html5Mode(!0)}function e(n,e,t){n.$on(\"$routeChangeStart\",function(n,o,r){var i=\"/profile\"===e.path(),l=t.isLoggedIn();i&&!l&&e.path(\"/\")})}angular.module(\"meanApp\",[\"ngRoute\"]),angular.module(\"meanApp\").config([\"$routeProvider\",\"$locationProvider\",n]).run([\"$rootScope\",\"$location\",\"authentication\",e])}(),function(){function n(){console.log(\"Home controller is running\")}angular.module(\"meanApp\").controller(\"homeCtrl\",n)}(),function(){function n(n){}angular.module(\"meanApp\").controller(\"profileCtrl\",n),n.$inject=[\"$location\"]}(),function(){function n(n,e){var t=this;t.credentials={email:\"\",password:\"\"},t.onSubmit=function(){console.log(\"Submit login form:\",t.credentials),e.login(t.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"meanApp\").controller(\"loginCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(n,e){var t=this;t.credentials={name:\"Simon\",email:\"\",password:\"\"},t.onSubmit=function(){console.log(\"Submitting registration\"),e.register(t.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"meanApp\").controller(\"registerCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(n,e){var t=function(n){e.localStorage[\"mean-token\"]=n},o=function(){return e.localStorage[\"mean-token\"]},r=function(){var n,t=o();return t?(n=t.split(\".\")[1],n=e.atob(n),n=JSON.parse(n),n.exp>Date.now()/1e3):!1},i=function(){if(r()){var n=o(),t=n.split(\".\")[1];return t=e.atob(t),t=JSON.parse(t),{email:t.email,name:t.name}}};return register=function(e){return n.post(\"/api/register\",e).success(function(n){t(n.token)})},login=function(e){return n.post(\"/api/login\",e).success(function(n){t(n.token)})},logout=function(){e.localStorage.removeItem(\"mean-token\")},{currentUser:i,saveToken:t,getToken:o,isLoggedIn:r,register:register,login:login,logout:logout}}angular.module(\"meanApp\").service(\"authentication\",n),n.$inject=[\"$http\",\"$window\"]}(),function(){function n(n,e){var t=this;t.isLoggedIn=e.isLoggedIn(),t.currentUser=e.currentUser()}angular.module(\"meanApp\").controller(\"navigationCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}(),function(){function n(){return{restrict:\"EA\",templateUrl:\"/common/directives/navigation/navigation.template.html\",controller:\"navigationCtrl as navvm\"}}angular.module(\"meanApp\").directive(\"navigation\",n)}();"],"sourceRoot":"/source/"}